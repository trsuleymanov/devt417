<?php

use yii\db\Migration;

/**
 * Class m180330_212336_create_table_trip
 */
class m180330_212336_create_table_trip extends Migration
{
    public function up()
    {
        $this->createTable('trip', [ // список рейсов
            'id' => $this->primaryKey(),
            'name' => $this->string(50)->comment('Название'),
            'direction_id' => $this->integer()->comment('Направление'),
            'start_time' => $this->string(5)->comment('Начало сбора'),
            'mid_time' => $this->string(5)->comment('Середина сбора'),
            'end_time' => $this->string(5)->comment('Конец сбора'),
        ]);

        $this->BatchInsert('trip',
            ['name', 'direction_id', 'start_time', 'mid_time', 'end_time'],
            [
                ['3:30', 1, '02:30', '3:00',  '03:30'],
                ['4:00', 1, '03:00', '03:30', '04:00'],
                ['5:00', 1, '04:00', '04:30', '05:00'],
                ['6:00', 1, '05:00', '05:30', '06:00'],
                ['8:00', 1, '07:00', '07:30', '08:00'],
                ['10:00', 1, '09:00', '09:30', '10:00'],
                ['12:00', 1, '11:00', '11:30', '12:00'],
                ['13:00', 1, '12:00', '12:30', '13:00'],
                ['14:00', 1, '13:00', '13:30', '14:00'],
                ['15:00', 1, '14:00', '14:30', '15:00'],
                ['16:00', 1, '15:00', '15:30', '16:00'],
                ['17:00', 1, '16:00', '16:30', '17:00'],
                ['18:00', 1, '17:00', '17:30', '18:00'],
                ['19:00', 1, '18:00', '18:30', '19:00'],
                ['20:00', 1, '19:00', '19:30', '20:00'],
                ['21:00', 1, '20:00', '20:30', '21:00'],

                ['3:30', 2, '02:30', '3:00',  '03:30'],
                ['4:00', 2, '03:00', '03:30', '04:00'],
                ['5:00', 2, '04:00', '04:30', '05:00'],
                ['6:00', 2, '05:00', '05:30', '06:00'],
                ['8:00', 2, '07:00', '07:30', '08:00'],
                ['10:00', 2, '09:00', '09:30', '10:00'],
                ['12:00', 2, '11:00', '11:30', '12:00'],
                ['13:00', 2, '12:00', '12:30', '13:00'],
                ['14:00', 2, '13:00', '13:30', '14:00'],
                ['15:00', 2, '14:00', '14:30', '15:00'],
                ['16:00', 2, '15:00', '15:30', '16:00'],
                ['17:00', 2, '16:00', '16:30', '17:00'],
                ['18:00', 2, '17:00', '17:30', '18:00'],
                ['19:00', 2, '18:00', '18:30', '19:00'],
                ['20:00', 2, '19:00', '19:30', '20:00'],
                ['21:00', 2, '20:00', '20:30', '21:00'],
            ]
        );
    }

    public function down()
    {
        $this->dropTable('trip');
    }

}
